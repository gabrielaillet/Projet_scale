{% macro render_accordion(formProfile,year,yearref) %}
    <div class="accordion" id="accordionExample">
    {{ renderYear(formProfile.taf1,year,yearref) }}
    {{ renderYear(formProfile.taf2,year+1,yearref) }}
    {{ renderYear(formProfile.taf3,year+2,yearref) }}
    {{ renderYear(formProfile.taf4,year+3,yearref) }}
    </div>
{% endmacro %}

{% macro renderYear(tafField,year,yearref) %}

  <div class="accordion-item">
    <h2 class="accordion-header" id="heading{{year}}">
        {% if year >= yearref %}
      <button style="color: darkgray;
                    background-color:lightgrey"
              class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapse{{year}}" aria-expanded="false" aria-controls="collapse{{year}}" disabled>
        <p class="text-center"><strong> Année {{year}}-{{year+1}} </strong></p>
      </button >
        {% else %}<button class="accordion-button collapsed text-center" type="button" data-bs-toggle="collapse" data-bs-target="#collapse{{year}}" aria-expanded="false" aria-controls="collapse{{year}}" >
         <strong>Année {{year}}-{{year+1}}</strong>
      </button>
        {% endif %}
    </h2>
    <div id="collapse{{year}}" class="accordion-collapse collapse" aria-labelledby="heading{{year}}" data-bs-parent="#accordionExample">
      <div class="accordion-body">
        {{ tafField }}
      </div>
    </div>
  </div>

{% endmacro %}


{% macro renderProm(year,promNom) %}

  <div class="accordion-item">
    <h2 class="accordion-header" id="heading{{year}}">
      <button
              class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapse{{year}}" aria-expanded="false" aria-controls="collapse{{year}}">
        <p class="text-center"> <strong>Promotion {{year}}-{{year+1}} </strong> </p>
      </button >
    </h2>

    <div id="collapse{{year}}" class="accordion-collapse collapse" aria-labelledby="heading{{year}}" data-bs-parent="#accordionExample">
      <div class="accordion-body">
          {% for student in promNom %}
              <div>
        {{ student.name }} {{ student.surname }}
              </div>
          {% endfor %}
      </div>
    </div>
  </div>

{% endmacro %}
